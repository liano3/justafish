<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Just A Fish</title>
    <meta name="description" content="Just A Fish - ‰∏™‰∫∫‰∏ªÈ°µÔºåËÆ∞ÂΩïÔºåÂØºËà™">
    <meta name="keywords" content="‰∏™‰∫∫‰∏ªÈ°µ,Just A Fish,ÂçöÂÆ¢,‰∏ªÈ°µ,ÁîüÊ¥ª,Â≠¶‰π†,ËÆ∞ÂΩï,ÂØºËà™">
    <meta name="author" content="Ning Li">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêü</text></svg>">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Just A Fish">
    <meta property="og:description" content="Just A Fish - ‰∏™‰∫∫‰∏ªÈ°µÔºåËÆ∞ÂΩïÔºåÂØºËà™">
    <meta property="og:url" content="https://justafish.cn">
    <meta property="og:site_name" content="Just A Fish">
    <meta property="og:image" content="https://justafish.cn/avatar.png">
    <meta property="og:locale" content="zh_CN">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Just A Fish">
    <meta name="twitter:description" content="Just A Fish - ‰∏™‰∫∫‰∏ªÈ°µÔºåËÆ∞ÂΩïÔºåÂØºËà™">
    <link rel="preconnect" href="https://fonts.font.im">
    <link rel="preconnect" href="https://fonts.gstatic.font.im" crossorigin>
    <link href="https://fonts.font.im/css2?family=Pacifico&family=Ma+Shan+Zheng&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #3cc8c8;
            --accent-rgb: 60, 200, 200;
            --panel-bg: #0d3a4a;
            --panel-border: rgba(60, 200, 200, 0.3);
            --panel-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(60, 200, 200, 0.15);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: manipulation; }
        body {
            min-height: 100vh;
            overflow: hidden;
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(180deg, #2d8a9a 0%, #1a6b7a 20%, #0f4a5a 40%, #0a3545 70%, #051f28 100%);
            cursor: none;
        }
        .surface-light {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: radial-gradient(ellipse 100% 60% at 50% 0%, rgba(120, 220, 240, 0.35) 0%, rgba(80, 180, 200, 0.2) 30%, rgba(50, 150, 170, 0.1) 50%, transparent 80%);
            pointer-events: none;
            z-index: 2;
        }
        .ocean { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        .light-ray {
            position: absolute;
            top: -20%;
            width: 60px;
            height: 140%;
            background: linear-gradient(to bottom, rgba(180, 240, 255, 0.15) 0%, rgba(120, 220, 240, 0.08) 40%, rgba(80, 180, 200, 0.03) 70%, transparent 100%);
            animation: sway 8s ease-in-out infinite;
            filter: blur(8px);
            will-change: transform;
        }
        @keyframes sway { 0%, 100% { transform: rotate(-8deg); } 50% { transform: rotate(8deg); } }
        .fish-container { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 10; }
        .fish {
            font-size: 80px;
            animation: swim 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(255, 200, 100, 0.5));
            transition: transform 0.3s ease;
            cursor: pointer;
            pointer-events: auto;
            will-change: transform;
        }
        .fish:hover { transform: scale(1.2) rotate(-10deg); }
        @keyframes swim {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(-5deg); }
            50% { transform: translateY(0) rotate(0deg); }
            75% { transform: translateY(15px) rotate(5deg); }
        }
        .title {
            position: fixed;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Pacifico', cursive;
            font-size: clamp(2.5rem, 8vw, 5rem);
            color: #fff;
            text-shadow: 0 0 10px rgba(var(--accent-rgb), 0.8), 0 0 30px rgba(var(--accent-rgb), 0.6), 0 0 50px rgba(var(--accent-rgb), 0.4);
            z-index: 20;
            animation: float 4s ease-in-out infinite;
            text-align: center;
            white-space: nowrap;
            will-change: transform;
        }
        @keyframes float { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(-10px); } }
        .subtitle {
            position: fixed;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Ma Shan Zheng', cursive;
            color: rgba(255, 255, 255, 0.9);
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            z-index: 20;
            text-align: center;
            animation: fadeInUp 2s ease-out;
            text-shadow: 0 0 20px rgba(var(--accent-rgb), 0.8), 0 0 40px rgba(var(--accent-rgb), 0.5), 0 0 60px rgba(var(--accent-rgb), 0.3);
            letter-spacing: 4px;
        }
        @keyframes fadeInUp { from { opacity: 0; transform: translateX(-50%) translateY(30px); } to { opacity: 1; transform: translateX(-50%) translateY(0); } }
        .domain { position: fixed; bottom: 8%; left: 50%; transform: translateX(-50%); color: rgba(255, 255, 255, 0.4); font-size: 1rem; z-index: 20; letter-spacing: 3px; }
        .bubble {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.1) 50%, transparent 70%);
            animation: rise linear infinite;
            pointer-events: none;
            will-change: transform, opacity;
        }
        @keyframes rise { 0% { transform: translateY(0) scale(1); opacity: 0.8; } 50% { opacity: 0.6; } 100% { transform: translateY(-100vh) scale(0.5); opacity: 0; } }
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            transition: transform 0.1s ease;
        }
        .cursor-dot { position: fixed; width: 6px; height: 6px; background: #fff; border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); }
        .glow-orb { position: fixed; width: 300px; height: 300px; border-radius: 50%; background: radial-gradient(circle, rgba(var(--accent-rgb), 0.3) 0%, transparent 70%); pointer-events: none; z-index: 1; transform: translate(-50%, -50%); }
        .ripple { position: absolute; border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.6); animation: ripple 1s ease-out forwards; pointer-events: none; }
        @keyframes ripple { 0% { width: 0; height: 0; opacity: 1; } 100% { width: 150px; height: 150px; opacity: 0; } }
        .particle { position: absolute; width: 4px; height: 4px; background: rgba(255, 255, 255, 0.6); border-radius: 50%; pointer-events: none; animation: sparkle 1s ease-out forwards; }
        @keyframes sparkle { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(0); opacity: 0; } }
        .hidden-fish { position: fixed; font-size: 30px; opacity: 0; pointer-events: none; z-index: 15; }
        .hidden-fish.show { opacity: 0.6; animation: swimAway 3s ease-out forwards; }
        @keyframes swimAway { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(var(--tx), var(--ty)) rotate(var(--tr)); opacity: 0; } }

        .navbar {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 30;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(30, 80, 100, 0.9);
            border-radius: 50px;
            border: 1px solid rgba(80, 200, 200, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .navbar-divider { width: 1px; height: 24px; background: rgba(255, 255, 255, 0.15); margin: 0 4px; }
        .nav-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: transparent;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-btn:hover, .nav-btn.active { background: rgba(var(--accent-rgb), 0.3); }
        .nav-btn svg { width: 20px; height: 20px; color: rgba(255, 255, 255, 0.8); transition: color 0.2s; }
        .nav-btn:hover svg, .nav-btn.active svg { color: #fff; }
        .nav-tooltip {
            position: absolute;
            bottom: -32px;
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 10px;
            background: rgba(25, 70, 90, 0.9);
            border-radius: 6px;
            font-size: 0.75rem;
            color: #fff;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease;
        }
        .nav-btn:hover .nav-tooltip { opacity: 1; }
        .nav-btn .badge {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 8px;
            height: 8px;
            background: #ff4757;
            border-radius: 50%;
            display: none;
        }
        .nav-btn .badge.show { display: block; }

        .panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: var(--panel-bg);
            border-radius: 30px;
            padding: 40px;
            z-index: 100;
            border: 1px solid var(--panel-border);
            box-shadow: var(--panel-shadow);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
        }
        .panel.show { opacity: 1; pointer-events: auto; transform: translate(-50%, -50%) scale(1); }
        .panel-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        .panel-close:hover { background: rgba(255, 255, 255, 0.2); color: #fff; }
        .panel-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .panel-header h3 { color: #fff; font-size: 1.1rem; font-weight: 700; }
        .panel-header-icon { font-size: 1.3rem; }

        .clock-panel { min-width: 340px; text-align: center; }
        .clock-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .clock-tab { padding: 8px 20px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 20px; color: rgba(255, 255, 255, 0.7); cursor: pointer; transition: all 0.2s ease; font-size: 0.9rem; }
        .clock-tab:hover { background: rgba(255, 255, 255, 0.15); }
        .clock-tab.active { background: rgba(var(--accent-rgb), 0.3); color: #fff; }
        .clock-content { display: none; }
        .clock-content.active { display: block; }
        .digital-clock { font-size: 3rem; font-weight: 700; color: #fff; text-shadow: 0 0 30px rgba(var(--accent-rgb), 0.6); letter-spacing: 4px; margin-bottom: 5px; }
        .digital-date { font-size: 1rem; color: rgba(255, 255, 255, 0.5); margin-bottom: 20px; }
        .analog-clock { width: 240px; height: 240px; margin: 0 auto; position: relative; }
        .pomodoro-display { margin: 20px 0; }
        .pomodoro-timer { font-size: 4rem; font-weight: 700; color: #fff; text-shadow: 0 0 40px rgba(var(--accent-rgb), 0.8); margin-bottom: 10px; }
        .pomodoro-status { font-size: 1rem; color: rgba(255, 255, 255, 0.7); margin-bottom: 20px; }
        .pomodoro-progress { width: 200px; height: 200px; margin: 0 auto 20px; position: relative; }
        .pomodoro-progress svg { transform: rotate(-90deg); }
        .pomodoro-progress-bg { fill: none; stroke: rgba(255, 255, 255, 0.1); stroke-width: 8; }
        .pomodoro-progress-bar { fill: none; stroke: var(--accent); stroke-width: 8; stroke-linecap: round; transition: stroke-dashoffset 1s linear; }
        .pomodoro-progress-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2.5rem; font-weight: 700; color: #fff; }
        .pomodoro-controls { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
        .pomodoro-btn { padding: 12px 30px; border: none; border-radius: 25px; font-size: 1rem; cursor: pointer; transition: all 0.2s ease; }
        .pomodoro-btn-primary { background: rgba(var(--accent-rgb), 0.3); color: #fff; border: 1px solid rgba(var(--accent-rgb), 0.5); }
        .pomodoro-btn-primary:hover { background: rgba(var(--accent-rgb), 0.5); }
        .pomodoro-btn-secondary { background: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.8); border: 1px solid rgba(255, 255, 255, 0.2); }
        .pomodoro-btn-secondary:hover { background: rgba(255, 255, 255, 0.15); }
        .pomodoro-stats { display: flex; justify-content: center; gap: 30px; color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; }
        .pomodoro-stats strong { color: var(--accent); font-size: 1.1rem; }
        .pomodoro-settings { display: flex; justify-content: center; gap: 15px; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .pomodoro-setting { display: flex; align-items: center; gap: 8px; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; }
        .pomodoro-setting input { width: 50px; padding: 4px 8px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: #fff; text-align: center; font-size: 0.85rem; }
        .pomodoro-setting input:focus { outline: none; border-color: rgba(var(--accent-rgb), 0.5); }

        .analog-clock-face {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(40, 90, 100, 0.6);
            border: 3px solid rgba(var(--accent-rgb), 0.7);
            position: relative;
            box-shadow: 0 0 30px rgba(var(--accent-rgb), 0.4), inset 0 0 30px rgba(0, 0, 0, 0.4);
            box-sizing: border-box; 
        }

        .analog-clock-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 14px;
            height: 14px;
            background: var(--accent);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.9);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .analog-hand { position: absolute; bottom: 50%; left: 50%; transform-origin: center bottom; border-radius: 3px; }
        .analog-hour { width: 5px; height: 60px; background: linear-gradient(to top, #fff, rgba(255, 255, 255, 0.8)); margin-left: -2.5px; box-shadow: 0 0 8px rgba(255, 255, 255, 0.3); }
        .analog-minute { width: 3px; height: 85px; background: linear-gradient(to top, #fff, rgba(255, 255, 255, 0.7)); margin-left: -1.5px; box-shadow: 0 0 6px rgba(255, 255, 255, 0.2); }
        .analog-second { width: 2px; height: 100px; background: linear-gradient(to top, var(--accent), rgba(var(--accent-rgb), 0.8)); margin-left: -1px; box-shadow: 0 0 5px rgba(var(--accent-rgb), 0.6); }

        .analog-mark { position: absolute; background: rgba(255, 255, 255, 0.5); left: 50%; transform-origin: center 114px; }

        .analog-mark.minute { width: 2px; height: 10px; top: 3px; margin-left: -1px; }
        .analog-mark.hour { width: 3px; height: 18px; top: 3px; margin-left: -1.5px; background: rgba(255, 255, 255, 0.8); border-radius: 2px; }

        .analog-number { position: absolute; font-size: 1.0rem; font-weight: 700; color: rgba(255, 255, 255, 0.9); text-shadow: 0 0 8px rgba(var(--accent-rgb), 0.5); }
        .profile-card { min-width: 320px; cursor: default; }
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), #0d2847);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin: 0 auto 15px;
            box-shadow: 0 4px 15px rgba(var(--accent-rgb), 0.4);
            animation: pulse 3s ease-in-out infinite;
            overflow: hidden;
        }
        .profile-avatar img { width: 100%; height: 100%; object-fit: cover; }
        @keyframes pulse { 0%, 100% { box-shadow: 0 4px 15px rgba(var(--accent-rgb), 0.4); } 50% { box-shadow: 0 4px 25px rgba(var(--accent-rgb), 0.7); } }
        .profile-name { text-align: center; color: #fff; font-size: 1.4rem; font-weight: 700; margin-bottom: 5px; }
        .profile-title { text-align: center; color: rgba(255, 255, 255, 0.6); font-size: 0.9rem; margin-bottom: 20px; }
        .profile-links { display: flex; flex-direction: column; gap: 10px; }
        .profile-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        .profile-link:hover { background: rgba(255, 255, 255, 0.15); border-color: rgba(var(--accent-rgb), 0.5); transform: translateX(5px); color: #fff; }
        .profile-link svg { width: 20px; height: 20px; flex-shrink: 0; }
        .profile-link span { font-size: 0.85rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

        .announcement-panel { min-width: 340px; cursor: default; }
        .announcement-list { display: flex; flex-direction: column; gap: 15px; max-height: 300px; overflow-y: auto; }
        .announcement-list::-webkit-scrollbar { width: 4px; }
        .announcement-list::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); border-radius: 2px; }
        .announcement-list::-webkit-scrollbar-thumb { background: rgba(var(--accent-rgb), 0.5); border-radius: 2px; }
        .announcement-item { position: relative; padding-left: 20px; }
        .announcement-item::before { content: ''; position: absolute; left: 0; top: 8px; width: 8px; height: 8px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.6); }
        .announcement-date { color: rgba(255, 255, 255, 0.5); font-size: 0.75rem; margin-bottom: 5px; }
        .announcement-content { color: rgba(255, 255, 255, 0.85); font-size: 0.9rem; line-height: 1.5; }
        .announcement-tag { display: inline-block; padding: 2px 8px; background: rgba(var(--accent-rgb), 0.3); border-radius: 10px; font-size: 0.7rem; color: var(--accent); margin-left: 8px; }

        .bookmark-panel { max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; border-radius: 24px; padding: 30px; }
        .bookmark-content { display: flex; flex-direction: column; gap: 20px; }
        .bookmark-folder-header {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 18px;
            background: rgba(var(--accent-rgb), 0.15);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 10px;
            border: 1px solid rgba(var(--accent-rgb), 0.2);
        }
        .bookmark-folder-header:hover { background: rgba(var(--accent-rgb), 0.25); border-color: rgba(var(--accent-rgb), 0.4); }
        .bookmark-folder-header.expanded { background: rgba(var(--accent-rgb), 0.35); border-color: rgba(var(--accent-rgb), 0.5); }
        .bookmark-folder-icon { font-size: 1rem; transition: transform 0.2s ease; }
        .bookmark-folder-header.expanded .bookmark-folder-icon { transform: rotate(90deg); }
        .bookmark-folder-name { color: #fff; font-weight: 600; font-size: 0.95rem; }
        .bookmark-folder-count { color: rgba(255, 255, 255, 0.5); font-size: 0.8rem; margin-left: auto; }
        .bookmark-links { display: none; flex-wrap: wrap; gap: 8px; padding-left: 15px; }
        .bookmark-links.show { display: flex; }
        .bookmark-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .bookmark-link:hover { background: rgba(var(--accent-rgb), 0.2); border-color: rgba(var(--accent-rgb), 0.6); color: #fff; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(var(--accent-rgb), 0.2); }
        .bookmark-link svg { width: 14px; height: 14px; flex-shrink: 0; }

        .schulte-panel { min-width: 340px; max-width: 95vw; }
        .schulte-header { text-align: center; margin-bottom: 20px; }
        .schulte-header h3 { color: #fff; font-size: 1.3rem; font-weight: 700; }
        .schulte-stats { display: flex; justify-content: center; gap: 30px; margin-bottom: 25px; color: rgba(255, 255, 255, 0.7); font-size: 0.9rem; }
        .schulte-stats strong { color: var(--accent); font-size: 1.1rem; }
        .schulte-grid-wrapper { position: relative; width: min(300px, 80vw); margin: 0 auto; }
        .schulte-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: var(--panel-bg);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            z-index: 10;
            transition: opacity 0.2s ease;
            cursor: pointer;
        }
        .schulte-overlay.hidden { opacity: 0; pointer-events: none; }
        .schulte-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; margin-bottom: 25px; }
        .schulte-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(var(--accent-rgb), 0.2);
            border: 1px solid rgba(var(--accent-rgb), 0.3);
            border-radius: 12px;
            font-size: clamp(1rem, 4vw, 1.4rem);
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            transition: all 0.15s ease;
            user-select: none;
        }
        .schulte-cell:hover { background: rgba(var(--accent-rgb), 0.35); border-color: rgba(var(--accent-rgb), 0.5); }
        .schulte-cell.correct { background: rgba(var(--accent-rgb), 0.6); border-color: rgba(var(--accent-rgb), 0.8); transform: scale(0.95); }
        .schulte-cell.wrong { background: rgba(255, 100, 100, 0.4); border-color: rgba(255, 100, 100, 0.6); animation: shake 0.3s ease; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
        .schulte-restart {
            display: block;
            margin: 0 auto;
            padding: 12px 30px;
            background: rgba(var(--accent-rgb), 0.3);
            border: 1px solid rgba(var(--accent-rgb), 0.5);
            border-radius: 25px;
            color: #fff;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .schulte-restart:hover { background: rgba(var(--accent-rgb), 0.5); border-color: rgba(var(--accent-rgb), 0.7); }

        @media (max-width: 768px) {
            .fish { font-size: 60px; }
            .panel { min-width: 90% !important; padding: 25px; }
            .schulte-grid-wrapper { width: 85vw; }
            .schulte-panel { min-width: 90%; }
        }
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            .fish, .title, .subtitle, .light-ray, .bubble, .profile-avatar {
                animation: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="surface-light"></div>
    <div class="ocean" id="ocean"></div>
    <div class="glow-orb" id="glowOrb"></div>
    <h1 class="title">Just A Fish</h1>
    <div class="fish-container"><div class="fish" id="fish">üêü</div></div>
    <p class="subtitle" id="subtitle"></p>
    <div class="domain" id="domain"></div>
    <div class="cursor" id="cursor"></div>
    <div class="cursor-dot" id="cursorDot"></div>

    <nav class="navbar">
        <button class="nav-btn" id="toggleProfile">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
            <span class="nav-tooltip">‰∏™‰∫∫‰ø°ÊÅØ</span>
        </button>
        <button class="nav-btn" id="toggleAnnouncement">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
            <span class="nav-tooltip">ÂÖ¨Âëä</span>
            <span class="badge" id="announcementBadge"></span>
        </button>
        <div class="navbar-divider"></div>
        <button class="nav-btn" id="toggleClock">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            <span class="nav-tooltip">Êó∂Èíü</span>
        </button>
        <button class="nav-btn" id="toggleBookmark">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" /></svg>
            <span class="nav-tooltip">Êî∂ËóèÂ§π</span>
        </button>
        <button class="nav-btn" id="toggleSchulte">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
            <span class="nav-tooltip">ËàíÂ∞îÁâπÊñπÊ†º</span>
        </button>
    </nav>

    <div class="panel clock-panel" id="clockPanel">
        <button class="panel-close" data-panel="clockPanel">√ó</button>
        <div class="clock-tabs">
            <button class="clock-tab active" data-tab="clock">Êó∂Èíü</button>
            <button class="clock-tab" data-tab="pomodoro">Áï™ËåÑÈíü</button>
        </div>
        <div class="clock-content active" id="clockContent">
            <div class="digital-clock" id="digitalClock"></div>
            <div class="digital-date" id="digitalDate"></div>
            <div class="analog-clock" id="analogClock">
                <div class="analog-clock-face" id="clockFace">
                    <div class="analog-hand analog-hour" id="hourHand"></div>
                    <div class="analog-hand analog-minute" id="minuteHand"></div>
                    <div class="analog-hand analog-second" id="secondHand"></div>
                    <div class="analog-clock-center"></div>
                </div>
            </div>
        </div>
        <div class="clock-content" id="pomodoroContent">
            <div class="pomodoro-display">
                <div class="pomodoro-progress">
                    <svg width="200" height="200">
                        <circle class="pomodoro-progress-bg" cx="100" cy="100" r="90"></circle>
                        <circle class="pomodoro-progress-bar" id="pomodoroProgress" cx="100" cy="100" r="90" stroke-dasharray="565.48" stroke-dashoffset="0"></circle>
                    </svg>
                    <div class="pomodoro-progress-text" id="pomodoroTimer">25:00</div>
                </div>
                <div class="pomodoro-status" id="pomodoroStatus">ÂáÜÂ§áÂºÄÂßã</div>
            </div>
            <div class="pomodoro-controls">
                <button class="pomodoro-btn pomodoro-btn-primary" id="pomodoroStart">ÂºÄÂßã</button>
                <button class="pomodoro-btn pomodoro-btn-secondary" id="pomodoroReset">ÈáçÁΩÆ</button>
            </div>
            <div class="pomodoro-stats">
                <span>Â∑≤ÂÆåÊàê: <strong id="pomodoroCount">0</strong> ‰∏™</span>
                <span>ÊÄªÊó∂Èïø: <strong id="pomodoroTotal">0</strong> ÂàÜÈíü</span>
            </div>
            <div class="pomodoro-settings">
                <div class="pomodoro-setting">
                    <span>‰∏ìÊ≥®</span>
                    <input type="number" id="pomodoroWork" value="25" min="1" max="60">
                    <span>ÂàÜÈíü</span>
                </div>
                <div class="pomodoro-setting">
                    <span>‰ºëÊÅØ</span>
                    <input type="number" id="pomodoroBreak" value="5" min="1" max="30">
                    <span>ÂàÜÈíü</span>
                </div>
            </div>
        </div>
    </div>

    <div class="panel profile-card" id="profileCard">
        <button class="panel-close" data-panel="profileCard">√ó</button>
        <div class="profile-avatar" id="profileAvatar"></div>
        <div class="profile-name" id="profileName"></div>
        <div class="profile-title" id="profileTitle"></div>
        <div class="profile-links" id="profileLinks"></div>
    </div>

    <div class="panel announcement-panel" id="announcementPanel">
        <button class="panel-close" data-panel="announcementPanel">√ó</button>
        <div class="panel-header">
            <span class="panel-header-icon">üîî</span>
            <h3>ÂÖ¨ÂëäÊ†è</h3>
        </div>
        <div class="announcement-list" id="announcementList"></div>
    </div>

    <div class="panel bookmark-panel" id="bookmarkPanel">
        <button class="panel-close" data-panel="bookmarkPanel">√ó</button>
        <div class="panel-header">
            <span class="panel-header-icon">‚≠ê</span>
            <h3>Êî∂ËóèÂ§π</h3>
        </div>
        <div class="bookmark-content" id="bookmarkContent"></div>
    </div>

    <div class="panel schulte-panel" id="schultePanel">
        <button class="panel-close" data-panel="schultePanel">√ó</button>
        <div class="schulte-header"><h3>ËàíÂ∞îÁâπÊñπÊ†º</h3></div>
        <div class="schulte-stats">
            <span>Êó∂Èó¥: <strong id="schulteTime">0.00</strong>s</span>
            <span>ÊúÄ‰Ω≥: <strong id="schulteBest">--</strong></span>
        </div>
        <div class="schulte-grid-wrapper">
            <div class="schulte-overlay" id="schulteOverlay">ÁÇπÂáªÂºÄÂßã</div>
            <div class="schulte-grid" id="schulteGrid"></div>
        </div>
        <button class="schulte-restart" id="schulteRestart">ÈáçÊñ∞ÂºÄÂßã</button>
    </div>

    <script>
    (function() {
        'use strict';
        const CONFIG = {{CONFIG}};
        CONFIG.animation = {
            fishEmojis: ['üê†', 'üê°', 'ü¶à', 'üê¨', 'üê≥', 'üêã', 'ü¶ë', 'üêô', 'ü¶ê', 'ü¶û', 'ü¶Ä', 'üêö'],
            lightRayCount: 8,
            bubbleInterval: 800,
            bubbleInitialCount: 10
        };

        const $ = id => document.getElementById(id);
        const cursor = $('cursor'), cursorDot = $('cursorDot'), glowOrb = $('glowOrb'), fish = $('fish'), ocean = $('ocean');

        function initLightRays() {
            for (let i = 0; i < CONFIG.animation.lightRayCount; i++) {
                const ray = document.createElement('div');
                ray.className = 'light-ray';
                ray.style.cssText = `left:${10 + i * 12}%;animation-delay:${i * 0.5}s;opacity:${0.1 + Math.random() * 0.1}`;
                ocean.appendChild(ray);
            }
        }

        function createBubble() {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            const size = 5 + Math.random() * 25;
            bubble.style.cssText = `width:${size}px;height:${size}px;left:${Math.random()*100}%;bottom:-30px;animation-duration:${5+Math.random()*10}s`;
            document.body.appendChild(bubble);
            setTimeout(() => bubble.remove(), 15000);
        }

        function initBubbles() {
            setInterval(createBubble, CONFIG.animation.bubbleInterval);
            for (let i = 0; i < CONFIG.animation.bubbleInitialCount; i++) setTimeout(createBubble, i * 200);
        }

        function initAnnouncements() {
            const list = $('announcementList');
            CONFIG.announcements.forEach(item => {
                list.innerHTML += `<div class="announcement-item"><div class="announcement-date">${item.date}</div><div class="announcement-content">${item.content}<span class="announcement-tag">${item.tag}</span></div></div>`;
            });
        }

        function initCursor() {
            document.addEventListener('mousemove', e => {
                [cursor, cursorDot, glowOrb].forEach(el => { el.style.left = `${e.clientX}px`; el.style.top = `${e.clientY}px`; });
            });
            document.addEventListener('mousedown', () => cursor.style.transform = 'translate(-50%, -50%) scale(0.8)');
            document.addEventListener('mouseup', () => cursor.style.transform = 'translate(-50%, -50%) scale(1)');
        }

        function createRipple(x, y) {
            const ripple = document.createElement('div');
            ripple.className = 'ripple';
            ripple.style.cssText = `left:${x - 75}px;top:${y - 75}px`;
            document.body.appendChild(ripple);
            setTimeout(() => ripple.remove(), 1000);
        }

        function createParticles(x, y, count = 8) {
            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const angle = (i / count) * Math.PI * 2, distance = 30 + Math.random() * 30;
                particle.style.cssText = `left:${x + Math.cos(angle) * distance}px;top:${y + Math.sin(angle) * distance}px`;
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 1000);
            }
        }

        function initFishInteraction() {
            let fishY = 0;
            fish.addEventListener('click', e => {
                e.stopPropagation();
                const rect = fish.getBoundingClientRect();
                const cx = rect.left + rect.width / 2, cy = rect.top + rect.height / 2;
                createParticles(cx, cy, 12);
                const hiddenFish = document.createElement('div');
                hiddenFish.className = 'hidden-fish';
                hiddenFish.textContent = CONFIG.animation.fishEmojis[Math.floor(Math.random() * CONFIG.animation.fishEmojis.length)];
                hiddenFish.style.cssText = `left:${cx}px;top:${cy}px;--tx:${(Math.random() - 0.5) * 400}px;--ty:${(Math.random() - 0.5) * 400}px;--tr:${(Math.random() - 0.5) * 360}deg`;
                document.body.appendChild(hiddenFish);
                requestAnimationFrame(() => hiddenFish.classList.add('show'));
                setTimeout(() => hiddenFish.remove(), 3000);
                fish.textContent = CONFIG.animation.fishEmojis[Math.floor(Math.random() * CONFIG.animation.fishEmojis.length)];
            });
            document.addEventListener('wheel', e => {
                fishY = Math.max(-100, Math.min(100, fishY + e.deltaY * 0.5));
                fish.parentElement.style.transform = `translate(-50%, calc(-50% + ${fishY}px))`;
            });
        }

        function closeAllPanels() {
            document.querySelectorAll('.panel.show').forEach(panel => {
                panel.classList.remove('show');
            });
            document.querySelectorAll('.nav-btn.active').forEach(btn => {
                btn.classList.remove('active');
            });
        }

        function togglePanel(toggleBtn, panel, onOpen, onClose) {
            const closePanel = () => {
                if (!panel.classList.contains('show')) return;
                panel.classList.remove('show');
                toggleBtn.classList.remove('active');
                onClose && onClose();
            };
            toggleBtn.addEventListener('click', e => {
                e.stopPropagation();
                if (panel.classList.contains('show')) {
                    closePanel();
                } else {
                    closeAllPanels();
                    panel.classList.add('show');
                    toggleBtn.classList.add('active');
                    onOpen && onOpen();
                }
            });
            panel.addEventListener('click', e => e.stopPropagation());
            document.addEventListener('keydown', e => {
                if (e.key === 'Escape' && panel.classList.contains('show')) closePanel();
            });
            return closePanel;
        }

        function initClickOutsideToClose() {
            document.addEventListener('click', e => {
                if (!e.target.closest('.nav-btn') && !e.target.closest('.panel')) {
                    closeAllPanels();
                }
            });
        }

        function initAnnouncementBadge() {
            const badge = $('announcementBadge');
            const lastViewedKey = 'announcementLastViewed';
            const latestDate = CONFIG.announcements.length > 0 ? CONFIG.announcements[0].date : null;
            const lastViewed = localStorage.getItem(lastViewedKey);
            
            if (latestDate && (!lastViewed || lastViewed < latestDate)) {
                badge.classList.add('show');
            }
            
            const toggleBtn = $('toggleAnnouncement');
            const originalHandler = toggleBtn.onclick;
            toggleBtn.addEventListener('click', () => {
                if (latestDate) {
                    localStorage.setItem(lastViewedKey, latestDate);
                }
                badge.classList.remove('show');
            });
        }

        function initProfile() {
            $('profileAvatar').innerHTML = `<img src="${CONFIG.profile.avatar}" alt="avatar">`;
            $('profileName').textContent = CONFIG.profile.name;
            $('profileTitle').textContent = CONFIG.profile.title;
            const links = $('profileLinks');
            CONFIG.links.forEach(link => {
                links.innerHTML += `<a href="${link.url}" target="${link.url.startsWith('mailto:') ? '_self' : '_blank'}" class="profile-link">${link.icon}<span>${link.label}</span></a>`;
            });
        }

        function initClock() {
            const panel = $('clockPanel'), toggleBtn = $('toggleClock');
            const digitalClock = $('digitalClock'), digitalDate = $('digitalDate'), analogClock = $('analogClock');
            const hourHand = $('hourHand'), minuteHand = $('minuteHand'), secondHand = $('secondHand');
            const clockFace = $('clockFace');
            let clockInterval = null, lastSecond = -1;

            function createMarks() {
                for (let i = 0; i < 60; i++) {
                    const mark = document.createElement('div');
                    mark.className = i % 5 === 0 ? 'analog-mark hour' : 'analog-mark minute';
                    mark.style.transform = `rotate(${i * 6}deg)`;
                    clockFace.appendChild(mark);
                }
                [12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].forEach((num, i) => {
                    const angle = (i * 30 - 90) * (Math.PI / 180);
                    const span = document.createElement('span');
                    span.className = 'analog-number';
                    span.textContent = num;
                    span.style.cssText = `left:${120 + 88 * Math.cos(angle)}px;top:${120 + 88 * Math.sin(angle)}px;transform:translate(-50%,-50%)`;
                    clockFace.appendChild(span);
                });
            }

            function updateClock() {
                const now = new Date();
                const currentSecond = now.getSeconds();
                if (currentSecond !== lastSecond) {
                    lastSecond = currentSecond;
                    digitalClock.textContent = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(currentSecond).padStart(2, '0')}`;
                    digitalDate.textContent = `${now.getFullYear()}Âπ¥${now.getMonth() + 1}Êúà${now.getDate()}Êó• ${['ÊòüÊúüÊó•','ÊòüÊúü‰∏Ä','ÊòüÊúü‰∫å','ÊòüÊúü‰∏â','ÊòüÊúüÂõõ','ÊòüÊúü‰∫î','ÊòüÊúüÂÖ≠'][now.getDay()]}`;
                }
                secondHand.style.transform = `rotate(${(currentSecond + now.getMilliseconds() / 1000) * 6}deg)`;
                minuteHand.style.transform = `rotate(${(now.getMinutes() + currentSecond / 60) * 6}deg)`;
                hourHand.style.transform = `rotate(${(now.getHours() % 12 + now.getMinutes() / 60) * 30}deg)`;
            }

            function startClock() {
                if (clockInterval) cancelAnimationFrame(clockInterval);
                lastSecond = -1;
                function tick() { updateClock(); clockInterval = requestAnimationFrame(tick); }
                tick();
            }

            function stopClock() { if (clockInterval) { cancelAnimationFrame(clockInterval); clockInterval = null; } }

            createMarks();
            const closePanel = togglePanel(toggleBtn, panel, startClock, stopClock);
            panel.querySelector('.panel-close').addEventListener('click', e => { e.stopPropagation(); closePanel(); });

            const tabs = panel.querySelectorAll('.clock-tab');
            const contents = panel.querySelectorAll('.clock-content');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    contents.forEach(c => c.classList.remove('active'));
                    tab.classList.add('active');
                    const targetId = tab.dataset.tab + 'Content';
                    $(targetId).classList.add('active');
                });
            });
        }

        function initPomodoro() {
            const timerDisplay = $('pomodoroTimer');
            const statusDisplay = $('pomodoroStatus');
            const progressBar = $('pomodoroProgress');
            const startBtn = $('pomodoroStart');
            const resetBtn = $('pomodoroReset');
            const countDisplay = $('pomodoroCount');
            const totalDisplay = $('pomodoroTotal');
            const workInput = $('pomodoroWork');
            const breakInput = $('pomodoroBreak');
            const circumference = 2 * Math.PI * 90;
            
            let isRunning = false;
            let isWork = true;
            let timeLeft = 25 * 60;
            let totalTime = 25 * 60;
            let pomodoroRAF = null;
            let lastUpdate = 0;
            let completedCount = parseInt(localStorage.getItem('pomodoroCount') || '0');
            let totalMinutes = parseInt(localStorage.getItem('pomodoroTotal') || '0');

            countDisplay.textContent = completedCount;
            totalDisplay.textContent = totalMinutes;

            function formatTime(seconds) {
                const m = Math.floor(seconds / 60);
                const s = seconds % 60;
                return `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
            }

            function updateDisplay() {
                timerDisplay.textContent = formatTime(timeLeft);
                const progress = timeLeft / totalTime;
                progressBar.style.strokeDashoffset = circumference * (1 - progress);
            }

            function updateStatus() {
                statusDisplay.textContent = isWork ? (isRunning ? '‰∏ìÊ≥®‰∏≠...' : 'ÂáÜÂ§á‰∏ìÊ≥®') : (isRunning ? '‰ºëÊÅØ‰∏≠...' : 'ÂáÜÂ§á‰ºëÊÅØ');
            }

            function switchMode() {
                if (isWork) {
                    isWork = false;
                    totalTime = parseInt(breakInput.value) * 60;
                    timeLeft = totalTime;
                    completedCount++;
                    totalMinutes += parseInt(workInput.value);
                    localStorage.setItem('pomodoroCount', completedCount.toString());
                    localStorage.setItem('pomodoroTotal', totalMinutes.toString());
                    countDisplay.textContent = completedCount;
                    totalDisplay.textContent = totalMinutes;
                } else {
                    isWork = true;
                    totalTime = parseInt(workInput.value) * 60;
                    timeLeft = totalTime;
                }
                updateDisplay();
                updateStatus();
            }

            function tick(timestamp) {
                if (!isRunning) return;
                if (timestamp - lastUpdate >= 1000) {
                    lastUpdate = timestamp;
                    timeLeft--;
                    updateDisplay();
                    if (timeLeft <= 0) {
                        switchMode();
                    }
                }
                pomodoroRAF = requestAnimationFrame(tick);
            }

            function start() {
                if (isRunning) {
                    isRunning = false;
                    startBtn.textContent = 'ÁªßÁª≠';
                    if (pomodoroRAF) cancelAnimationFrame(pomodoroRAF);
                } else {
                    isRunning = true;
                    startBtn.textContent = 'ÊöÇÂÅú';
                    lastUpdate = performance.now();
                    pomodoroRAF = requestAnimationFrame(tick);
                }
                updateStatus();
            }

            function reset() {
                isRunning = false;
                if (pomodoroRAF) cancelAnimationFrame(pomodoroRAF);
                isWork = true;
                totalTime = parseInt(workInput.value) * 60;
                timeLeft = totalTime;
                startBtn.textContent = 'ÂºÄÂßã';
                updateDisplay();
                updateStatus();
            }

            updateDisplay();
            updateStatus();
            startBtn.addEventListener('click', start);
            resetBtn.addEventListener('click', reset);
            workInput.addEventListener('change', () => {
                if (!isRunning && isWork) {
                    totalTime = parseInt(workInput.value) * 60;
                    timeLeft = totalTime;
                    updateDisplay();
                }
            });
            breakInput.addEventListener('change', () => {
                if (!isRunning && !isWork) {
                    totalTime = parseInt(breakInput.value) * 60;
                    timeLeft = totalTime;
                    updateDisplay();
                }
            });
        }

        function initBookmarks() {
            const panel = $('bookmarkPanel'), toggleBtn = $('toggleBookmark'), content = $('bookmarkContent');
            const externalIcon = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>';

            CONFIG.bookmarks.forEach((folder, idx) => {
                const folderDiv = document.createElement('div');
                folderDiv.innerHTML = `<div class="bookmark-folder-header${idx === 0 ? ' expanded' : ''}"><span class="bookmark-folder-icon">‚ñ∂</span><span class="bookmark-folder-name">${folder.name}</span><span class="bookmark-folder-count">${folder.links.length}</span></div><div class="bookmark-links${idx === 0 ? ' show' : ''}">${folder.links.map(l => `<a href="${l.url}" target="_blank" class="bookmark-link">${l.label}${externalIcon}</a>`).join('')}</div>`;
                folderDiv.querySelector('.bookmark-folder-header').addEventListener('click', e => {
                    e.stopPropagation();
                    folderDiv.querySelector('.bookmark-folder-header').classList.toggle('expanded');
                    folderDiv.querySelector('.bookmark-links').classList.toggle('show');
                });
                content.appendChild(folderDiv);
            });

            const closePanel = togglePanel(toggleBtn, panel);
            panel.querySelector('.panel-close').addEventListener('click', e => { e.stopPropagation(); closePanel(); });
        }

        function initSchulte() {
            const panel = $('schultePanel'), toggleBtn = $('toggleSchulte');
            const grid = $('schulteGrid'), timeDisplay = $('schulteTime'), bestDisplay = $('schulteBest');
            const overlay = $('schulteOverlay'), restartBtn = $('schulteRestart');
            let numbers = [], currentNum = 1, startTime = null, timerRAF = null, isRunning = false;
            let bestTime = localStorage.getItem('schulteBest') ? parseFloat(localStorage.getItem('schulteBest')) : null;

            function shuffle(arr) { const a = [...arr]; for (let i = a.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [a[i], a[j]] = [a[j], a[i]]; } return a; }

            function updateTimer() {
                if (isRunning) {
                    timeDisplay.textContent = ((Date.now() - startTime) / 1000).toFixed(2);
                    timerRAF = requestAnimationFrame(updateTimer);
                }
            }

            function stopTimer() {
                if (timerRAF) { cancelAnimationFrame(timerRAF); timerRAF = null; }
            }

            function createGrid() {
                grid.innerHTML = '';
                numbers = shuffle(Array.from({length: 25}, (_, i) => i + 1));
                currentNum = 1; startTime = null; isRunning = false;
                timeDisplay.textContent = '0.00';
                bestDisplay.textContent = bestTime ? bestTime.toFixed(2) + 's' : '--';
                overlay.classList.remove('hidden');
                stopTimer();
                numbers.forEach(num => {
                    const cell = document.createElement('div');
                    cell.className = 'schulte-cell';
                    cell.textContent = num;
                    cell.addEventListener('click', () => {
                        if (!isRunning) return;
                        if (num === currentNum) {
                            cell.classList.add('correct');
                            currentNum++;
                            if (currentNum > 25) {
                                stopTimer();
                                isRunning = false;
                                const finalTime = (Date.now() - startTime) / 1000;
                                timeDisplay.textContent = finalTime.toFixed(2);
                                if (!bestTime || finalTime < bestTime) {
                                    bestTime = finalTime;
                                    localStorage.setItem('schulteBest', bestTime.toString());
                                    bestDisplay.textContent = bestTime.toFixed(2) + 's';
                                }
                            }
                        } else { cell.classList.add('wrong'); setTimeout(() => cell.classList.remove('wrong'), 300); }
                    });
                    grid.appendChild(cell);
                });
            }

            overlay.addEventListener('click', () => {
                if (!isRunning) {
                    isRunning = true;
                    startTime = Date.now();
                    overlay.classList.add('hidden');
                    timerRAF = requestAnimationFrame(updateTimer);
                }
            });

            const closePanel = togglePanel(toggleBtn, panel, () => { if (!grid.children.length) createGrid(); });
            panel.querySelector('.panel-close').addEventListener('click', e => { e.stopPropagation(); closePanel(); });
            restartBtn.addEventListener('click', e => { e.stopPropagation(); createGrid(); });
        }

        function init() {
            $('subtitle').textContent = CONFIG.profile.slogan;
            $('domain').textContent = CONFIG.profile.domain;
            initProfile();
            initLightRays();
            initBubbles();
            initAnnouncements();
            initAnnouncementBadge();
            initCursor();
            document.addEventListener('click', e => createRipple(e.clientX, e.clientY));
            initFishInteraction();
            initClickOutsideToClose();
            
            const profileClose = togglePanel($('toggleProfile'), $('profileCard'));
            $('profileCard').querySelector('.panel-close').addEventListener('click', e => { e.stopPropagation(); profileClose(); });
            
            const announcementClose = togglePanel($('toggleAnnouncement'), $('announcementPanel'));
            $('announcementPanel').querySelector('.panel-close').addEventListener('click', e => { e.stopPropagation(); announcementClose(); });
            
            initClock();
            initPomodoro();
            initBookmarks();
            initSchulte();
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) document.querySelectorAll('*').forEach(el => el.style.animation = 'none');
        }

        init();
    })();
    </script>
</body>
</html>
